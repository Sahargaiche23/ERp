{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./config.service\";\nexport let EmployeeService = /*#__PURE__*/(() => {\n  class EmployeeService {\n    http;\n    config;\n    apiUrl;\n    constructor(http, config) {\n      this.http = http;\n      this.config = config;\n      this.apiUrl = this.config.getHRApiUrl();\n    }\n    // Employee CRUD\n    getEmployees() {\n      return this.http.get(`${this.apiUrl}/employees`);\n    }\n    getEmployee(id) {\n      return this.http.get(`${this.apiUrl}/employees/${id}`);\n    }\n    createEmployee(employee) {\n      return this.http.post(`${this.apiUrl}/employees`, employee);\n    }\n    updateEmployee(id, employee) {\n      return this.http.put(`${this.apiUrl}/employees/${id}`, employee);\n    }\n    deleteEmployee(id) {\n      return this.http.delete(`${this.apiUrl}/employees/${id}`);\n    }\n    // Leave Management\n    getLeaves(employeeId) {\n      let params = new HttpParams();\n      if (employeeId) {\n        params = params.set('employeeId', employeeId.toString());\n      }\n      return this.http.get(`${this.apiUrl}/leaves`, {\n        params\n      });\n    }\n    getLeave(id) {\n      return this.http.get(`${this.apiUrl}/leaves/${id}`);\n    }\n    createLeave(leave) {\n      return this.http.post(`${this.apiUrl}/leaves`, leave);\n    }\n    updateLeaveStatus(id, status) {\n      return this.http.patch(`${this.apiUrl}/leaves/${id}/status`, {\n        status\n      });\n    }\n    // Attendance\n    getAttendances(startDate, endDate, employeeId) {\n      let params = new HttpParams();\n      if (startDate) {\n        params = params.set('startDate', startDate.toISOString());\n      }\n      if (endDate) {\n        params = params.set('endDate', endDate.toISOString());\n      }\n      if (employeeId) {\n        params = params.set('employeeId', employeeId.toString());\n      }\n      return this.http.get(`${this.apiUrl}/attendances`, {\n        params\n      });\n    }\n    createAttendance(attendance) {\n      return this.http.post(`${this.apiUrl}/attendances`, attendance);\n    }\n    checkIn(employeeId) {\n      return this.http.post(`${this.apiUrl}/attendances/check-in`, {\n        employeeId\n      });\n    }\n    checkOut(attendanceId) {\n      return this.http.post(`${this.apiUrl}/attendances/${attendanceId}/check-out`, {});\n    }\n    static ɵfac = function EmployeeService_Factory(t) {\n      return new (t || EmployeeService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.ConfigService));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: EmployeeService,\n      factory: EmployeeService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return EmployeeService;\n})();","map":{"version":3,"names":["HttpParams","EmployeeService","http","config","apiUrl","constructor","getHRApiUrl","getEmployees","get","getEmployee","id","createEmployee","employee","post","updateEmployee","put","deleteEmployee","delete","getLeaves","employeeId","params","set","toString","getLeave","createLeave","leave","updateLeaveStatus","status","patch","getAttendances","startDate","endDate","toISOString","createAttendance","attendance","checkIn","checkOut","attendanceId","i0","ɵɵinject","i1","HttpClient","i2","ConfigService","factory","ɵfac","providedIn"],"sources":["/home/sahar/Bureau/ERp/frontend/erp-ui/src/app/services/employee.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Employee, Leave, Attendance } from '../models/employee.model';\nimport { ConfigService } from './config.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EmployeeService {\n  private apiUrl: string;\n\n  constructor(\n    private http: HttpClient,\n    private config: ConfigService\n  ) {\n    this.apiUrl = this.config.getHRApiUrl();\n  }\n\n  // Employee CRUD\n  getEmployees(): Observable<Employee[]> {\n    return this.http.get<Employee[]>(`${this.apiUrl}/employees`);\n  }\n\n  getEmployee(id: number): Observable<Employee> {\n    return this.http.get<Employee>(`${this.apiUrl}/employees/${id}`);\n  }\n\n  createEmployee(employee: Employee): Observable<Employee> {\n    return this.http.post<Employee>(`${this.apiUrl}/employees`, employee);\n  }\n\n  updateEmployee(id: number, employee: Employee): Observable<Employee> {\n    return this.http.put<Employee>(`${this.apiUrl}/employees/${id}`, employee);\n  }\n\n  deleteEmployee(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/employees/${id}`);\n  }\n\n  // Leave Management\n  getLeaves(employeeId?: number): Observable<Leave[]> {\n    let params = new HttpParams();\n    if (employeeId) {\n      params = params.set('employeeId', employeeId.toString());\n    }\n    return this.http.get<Leave[]>(`${this.apiUrl}/leaves`, { params });\n  }\n\n  getLeave(id: number): Observable<Leave> {\n    return this.http.get<Leave>(`${this.apiUrl}/leaves/${id}`);\n  }\n\n  createLeave(leave: Partial<Leave>): Observable<Leave> {\n    return this.http.post<Leave>(`${this.apiUrl}/leaves`, leave);\n  }\n\n  updateLeaveStatus(id: number, status: string): Observable<Leave> {\n    return this.http.patch<Leave>(`${this.apiUrl}/leaves/${id}/status`, { status });\n  }\n\n  // Attendance\n  getAttendances(startDate?: Date, endDate?: Date, employeeId?: number): Observable<Attendance[]> {\n    let params = new HttpParams();\n    if (startDate) {\n      params = params.set('startDate', startDate.toISOString());\n    }\n    if (endDate) {\n      params = params.set('endDate', endDate.toISOString());\n    }\n    if (employeeId) {\n      params = params.set('employeeId', employeeId.toString());\n    }\n    return this.http.get<Attendance[]>(`${this.apiUrl}/attendances`, { params });\n  }\n\n  createAttendance(attendance: Partial<Attendance>): Observable<Attendance> {\n    return this.http.post<Attendance>(`${this.apiUrl}/attendances`, attendance);\n  }\n\n  checkIn(employeeId: number): Observable<Attendance> {\n    return this.http.post<Attendance>(`${this.apiUrl}/attendances/check-in`, { employeeId });\n  }\n\n  checkOut(attendanceId: number): Observable<Attendance> {\n    return this.http.post<Attendance>(`${this.apiUrl}/attendances/${attendanceId}/check-out`, {});\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
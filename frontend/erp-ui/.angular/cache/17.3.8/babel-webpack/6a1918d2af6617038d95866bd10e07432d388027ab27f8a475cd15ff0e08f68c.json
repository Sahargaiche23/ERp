{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/employee.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AttendanceComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"Chargement...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AttendanceComponent_div_9_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\")(15, \"span\", 10);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const att_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(att_r1.employeeName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 8, att_r1.date, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 11, att_r1.checkIn, \"HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 14, att_r1.checkOut, \"HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(att_r1.hoursWorked);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(\"status-\" + att_r1.status.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", att_r1.status, \" \");\n  }\n}\nfunction AttendanceComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"table\", 8)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Employ\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Entr\\u00E9e\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Sortie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Heures\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Statut\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, AttendanceComponent_div_9_tr_17_Template, 17, 17, \"tr\", 9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.attendances);\n  }\n}\nexport let AttendanceComponent = /*#__PURE__*/(() => {\n  class AttendanceComponent {\n    employeeService;\n    attendances = [];\n    loading = true;\n    selectedDate = new Date();\n    constructor(employeeService) {\n      this.employeeService = employeeService;\n    }\n    ngOnInit() {\n      this.loadAttendances();\n    }\n    loadAttendances() {\n      const startDate = new Date(this.selectedDate);\n      startDate.setHours(0, 0, 0, 0);\n      const endDate = new Date(this.selectedDate);\n      endDate.setHours(23, 59, 59, 999);\n      this.employeeService.getAttendances(startDate, endDate).subscribe({\n        next: data => {\n          this.attendances = data;\n          this.loading = false;\n        },\n        error: () => {\n          this.loading = false;\n        }\n      });\n    }\n    onDateChange() {\n      this.loadAttendances();\n    }\n    static ɵfac = function AttendanceComponent_Factory(t) {\n      return new (t || AttendanceComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AttendanceComponent,\n      selectors: [[\"app-attendance\"]],\n      decls: 10,\n      vars: 3,\n      consts: [[1, \"page-container\"], [1, \"page-header\"], [1, \"date-filter\"], [\"type\", \"date\", 1, \"date-input\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"table-container\", 4, \"ngIf\"], [1, \"loading\"], [1, \"table-container\"], [1, \"data-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"status-badge\"]],\n      template: function AttendanceComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Pointage\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\");\n          i0.ɵɵtext(6, \"Date:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"input\", 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AttendanceComponent_Template_input_ngModelChange_7_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedDate, $event) || (ctx.selectedDate = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"ngModelChange\", function AttendanceComponent_Template_input_ngModelChange_7_listener() {\n            return ctx.onDateChange();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, AttendanceComponent_div_8_Template, 2, 0, \"div\", 4)(9, AttendanceComponent_div_9_Template, 18, 1, \"div\", 5);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedDate);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n      styles: [\".date-filter[_ngcontent-%COMP%] {\\n  margin-bottom: 20px;\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n}\\n\\n.date-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n\\n.date-input[_ngcontent-%COMP%] {\\n  padding: 8px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  font-size: 14px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaHIvYXR0ZW5kYW5jZS9hdHRlbmRhbmNlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBbUI7RUFDbkIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLGtCQUFrQjtFQUNsQixlQUFlO0FBQ2pCIiwic291cmNlc0NvbnRlbnQiOlsiLmRhdGUtZmlsdGVyIHtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgZ2FwOiAxMHB4O1xufVxuXG4uZGF0ZS1maWx0ZXIgbGFiZWwge1xuICBmb250LXdlaWdodDogNTAwO1xufVxuXG4uZGF0ZS1pbnB1dCB7XG4gIHBhZGRpbmc6IDhweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBmb250LXNpemU6IDE0cHg7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n  return AttendanceComponent;\n})();","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","att_r1","employeeName","ɵɵpipeBind2","date","checkIn","checkOut","hoursWorked","ɵɵclassMap","status","toLowerCase","ɵɵtextInterpolate1","ɵɵtemplate","AttendanceComponent_div_9_tr_17_Template","ɵɵproperty","ctx_r1","attendances","AttendanceComponent","employeeService","loading","selectedDate","Date","constructor","ngOnInit","loadAttendances","startDate","setHours","endDate","getAttendances","subscribe","next","data","error","onDateChange","ɵɵdirectiveInject","i1","EmployeeService","selectors","decls","vars","consts","template","AttendanceComponent_Template","rf","ctx","ɵɵtwoWayListener","AttendanceComponent_Template_input_ngModelChange_7_listener","$event","ɵɵtwoWayBindingSet","ɵɵlistener","AttendanceComponent_div_8_Template","AttendanceComponent_div_9_Template","ɵɵtwoWayProperty"],"sources":["/home/sahar/Bureau/ERp/frontend/erp-ui/src/app/hr/attendance/attendance.component.ts","/home/sahar/Bureau/ERp/frontend/erp-ui/src/app/hr/attendance/attendance.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EmployeeService } from '../../services/employee.service';\nimport { Attendance } from '../../models/employee.model';\n\n@Component({\n  selector: 'app-attendance',\n  templateUrl: './attendance.component.html',\n  styleUrls: ['./attendance.component.css']\n})\nexport class AttendanceComponent implements OnInit {\n  attendances: Attendance[] = [];\n  loading = true;\n  selectedDate = new Date();\n\n  constructor(private employeeService: EmployeeService) {}\n\n  ngOnInit() {\n    this.loadAttendances();\n  }\n\n  loadAttendances() {\n    const startDate = new Date(this.selectedDate);\n    startDate.setHours(0, 0, 0, 0);\n    \n    const endDate = new Date(this.selectedDate);\n    endDate.setHours(23, 59, 59, 999);\n\n    this.employeeService.getAttendances(startDate, endDate).subscribe({\n      next: (data) => {\n        this.attendances = data;\n        this.loading = false;\n      },\n      error: () => {\n        this.loading = false;\n      }\n    });\n  }\n\n  onDateChange() {\n    this.loadAttendances();\n  }\n}\n","<div class=\"page-container\">\n  <div class=\"page-header\">\n    <h1>Pointage</h1>\n  </div>\n\n  <div class=\"date-filter\">\n    <label>Date:</label>\n    <input \n      type=\"date\" \n      [(ngModel)]=\"selectedDate\" \n      (ngModelChange)=\"onDateChange()\"\n      class=\"date-input\"\n    />\n  </div>\n\n  <div class=\"loading\" *ngIf=\"loading\">Chargement...</div>\n\n  <div class=\"table-container\" *ngIf=\"!loading\">\n    <table class=\"data-table\">\n      <thead>\n        <tr>\n          <th>Employé</th>\n          <th>Date</th>\n          <th>Entrée</th>\n          <th>Sortie</th>\n          <th>Heures</th>\n          <th>Statut</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let att of attendances\">\n          <td>{{ att.employeeName }}</td>\n          <td>{{ att.date | date: 'dd/MM/yyyy' }}</td>\n          <td>{{ att.checkIn | date: 'HH:mm' }}</td>\n          <td>{{ att.checkOut | date: 'HH:mm' }}</td>\n          <td>{{ att.hoursWorked }}</td>\n          <td>\n            <span class=\"status-badge\" [class]=\"'status-' + att.status.toLowerCase()\">\n              {{ att.status }}\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { HttpParams } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./config.service\";\nexport let BudgetService = /*#__PURE__*/(() => {\n  class BudgetService {\n    http;\n    config;\n    apiUrl;\n    constructor(http, config) {\n      this.http = http;\n      this.config = config;\n      this.apiUrl = this.config.getBudgetApiUrl();\n    }\n    // Budget CRUD\n    getBudgets(year, department) {\n      let params = new HttpParams();\n      if (year) {\n        params = params.set('year', year.toString());\n      }\n      if (department) {\n        params = params.set('department', department);\n      }\n      return this.http.get(`${this.apiUrl}/budgets`, {\n        params\n      });\n    }\n    getBudget(id) {\n      return this.http.get(`${this.apiUrl}/budgets/${id}`);\n    }\n    createBudget(budget) {\n      return this.http.post(`${this.apiUrl}/budgets`, budget);\n    }\n    updateBudget(id, budget) {\n      return this.http.put(`${this.apiUrl}/budgets/${id}`, budget);\n    }\n    // Budget Lines\n    getBudgetLines(budgetId) {\n      return this.http.get(`${this.apiUrl}/budgets/${budgetId}/lines`);\n    }\n    createBudgetLine(budgetId, line) {\n      return this.http.post(`${this.apiUrl}/budgets/${budgetId}/lines`, line);\n    }\n    // Projects\n    getProjects(department, status) {\n      let params = new HttpParams();\n      if (department) {\n        params = params.set('department', department);\n      }\n      if (status) {\n        params = params.set('status', status);\n      }\n      return this.http.get(`${this.apiUrl}/projects`, {\n        params\n      });\n    }\n    getProject(id) {\n      return this.http.get(`${this.apiUrl}/projects/${id}`);\n    }\n    createProject(project) {\n      return this.http.post(`${this.apiUrl}/projects`, project);\n    }\n    updateProject(id, project) {\n      return this.http.put(`${this.apiUrl}/projects/${id}`, project);\n    }\n    deleteProject(id) {\n      return this.http.delete(`${this.apiUrl}/projects/${id}`);\n    }\n    // Transactions\n    getTransactions(projectId) {\n      let params = new HttpParams();\n      if (projectId) {\n        params = params.set('projectId', projectId.toString());\n      }\n      return this.http.get(`${this.apiUrl}/transactions`, {\n        params\n      });\n    }\n    createTransaction(transaction) {\n      return this.http.post(`${this.apiUrl}/transactions`, transaction);\n    }\n    approveTransaction(id) {\n      return this.http.patch(`${this.apiUrl}/transactions/${id}/approve`, {});\n    }\n    static ɵfac = function BudgetService_Factory(t) {\n      return new (t || BudgetService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.ConfigService));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: BudgetService,\n      factory: BudgetService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return BudgetService;\n})();","map":{"version":3,"names":["HttpParams","BudgetService","http","config","apiUrl","constructor","getBudgetApiUrl","getBudgets","year","department","params","set","toString","get","getBudget","id","createBudget","budget","post","updateBudget","put","getBudgetLines","budgetId","createBudgetLine","line","getProjects","status","getProject","createProject","project","updateProject","deleteProject","delete","getTransactions","projectId","createTransaction","transaction","approveTransaction","patch","i0","ɵɵinject","i1","HttpClient","i2","ConfigService","factory","ɵfac","providedIn"],"sources":["/home/sahar/Bureau/ERp/frontend/erp-ui/src/app/services/budget.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Budget, BudgetLine, Project, Transaction } from '../models/budget.model';\nimport { ConfigService } from './config.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BudgetService {\n  private apiUrl: string;\n\n  constructor(\n    private http: HttpClient,\n    private config: ConfigService\n  ) {\n    this.apiUrl = this.config.getBudgetApiUrl();\n  }\n\n  // Budget CRUD\n  getBudgets(year?: number, department?: string): Observable<Budget[]> {\n    let params = new HttpParams();\n    if (year) {\n      params = params.set('year', year.toString());\n    }\n    if (department) {\n      params = params.set('department', department);\n    }\n    return this.http.get<Budget[]>(`${this.apiUrl}/budgets`, { params });\n  }\n\n  getBudget(id: number): Observable<Budget> {\n    return this.http.get<Budget>(`${this.apiUrl}/budgets/${id}`);\n  }\n\n  createBudget(budget: Partial<Budget>): Observable<Budget> {\n    return this.http.post<Budget>(`${this.apiUrl}/budgets`, budget);\n  }\n\n  updateBudget(id: number, budget: Partial<Budget>): Observable<Budget> {\n    return this.http.put<Budget>(`${this.apiUrl}/budgets/${id}`, budget);\n  }\n\n  // Budget Lines\n  getBudgetLines(budgetId: number): Observable<BudgetLine[]> {\n    return this.http.get<BudgetLine[]>(`${this.apiUrl}/budgets/${budgetId}/lines`);\n  }\n\n  createBudgetLine(budgetId: number, line: Partial<BudgetLine>): Observable<BudgetLine> {\n    return this.http.post<BudgetLine>(`${this.apiUrl}/budgets/${budgetId}/lines`, line);\n  }\n\n  // Projects\n  getProjects(department?: string, status?: string): Observable<Project[]> {\n    let params = new HttpParams();\n    if (department) {\n      params = params.set('department', department);\n    }\n    if (status) {\n      params = params.set('status', status);\n    }\n    return this.http.get<Project[]>(`${this.apiUrl}/projects`, { params });\n  }\n\n  getProject(id: number): Observable<Project> {\n    return this.http.get<Project>(`${this.apiUrl}/projects/${id}`);\n  }\n\n  createProject(project: Partial<Project>): Observable<Project> {\n    return this.http.post<Project>(`${this.apiUrl}/projects`, project);\n  }\n\n  updateProject(id: number, project: Partial<Project>): Observable<Project> {\n    return this.http.put<Project>(`${this.apiUrl}/projects/${id}`, project);\n  }\n\n  deleteProject(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/projects/${id}`);\n  }\n\n  // Transactions\n  getTransactions(projectId?: number): Observable<Transaction[]> {\n    let params = new HttpParams();\n    if (projectId) {\n      params = params.set('projectId', projectId.toString());\n    }\n    return this.http.get<Transaction[]>(`${this.apiUrl}/transactions`, { params });\n  }\n\n  createTransaction(transaction: Partial<Transaction>): Observable<Transaction> {\n    return this.http.post<Transaction>(`${this.apiUrl}/transactions`, transaction);\n  }\n\n  approveTransaction(id: number): Observable<Transaction> {\n    return this.http.patch<Transaction>(`${this.apiUrl}/transactions/${id}/approve`, {});\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
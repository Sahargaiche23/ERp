{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./config.service\";\nexport let ReportService = /*#__PURE__*/(() => {\n  class ReportService {\n    http;\n    config;\n    apiUrl;\n    constructor(http, config) {\n      this.http = http;\n      this.config = config;\n      this.apiUrl = this.config.getReportsApiUrl();\n    }\n    getDashboardStats() {\n      return this.http.get(`${this.apiUrl}/dashboard/stats`);\n    }\n    getReports() {\n      return this.http.get(this.apiUrl);\n    }\n    generateReport(config) {\n      return this.http.post(`${this.apiUrl}/generate`, config);\n    }\n    downloadReport(id) {\n      return this.http.get(`${this.apiUrl}/${id}/download`, {\n        responseType: 'blob'\n      });\n    }\n    getHRReport(period) {\n      return this.http.get(`${this.apiUrl}/hr`, {\n        params: {\n          period\n        }\n      });\n    }\n    getBudgetReport(year) {\n      return this.http.get(`${this.apiUrl}/budget`, {\n        params: {\n          year: year.toString()\n        }\n      });\n    }\n    getClaimsReport(period) {\n      return this.http.get(`${this.apiUrl}/claims`, {\n        params: {\n          period\n        }\n      });\n    }\n    getProjectsReport() {\n      return this.http.get(`${this.apiUrl}/projects`);\n    }\n    static ɵfac = function ReportService_Factory(t) {\n      return new (t || ReportService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.ConfigService));\n    };\n    static ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: ReportService,\n      factory: ReportService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n  return ReportService;\n})();","map":{"version":3,"names":["ReportService","http","config","apiUrl","constructor","getReportsApiUrl","getDashboardStats","get","getReports","generateReport","post","downloadReport","id","responseType","getHRReport","period","params","getBudgetReport","year","toString","getClaimsReport","getProjectsReport","i0","ɵɵinject","i1","HttpClient","i2","ConfigService","factory","ɵfac","providedIn"],"sources":["/home/sahar/Bureau/ERp/frontend/erp-ui/src/app/services/report.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { DashboardStats, Report, ReportConfig } from '../models/report.model';\nimport { ConfigService } from './config.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ReportService {\n  private apiUrl: string;\n\n  constructor(\n    private http: HttpClient,\n    private config: ConfigService\n  ) {\n    this.apiUrl = this.config.getReportsApiUrl();\n  }\n\n  getDashboardStats(): Observable<DashboardStats> {\n    return this.http.get<DashboardStats>(`${this.apiUrl}/dashboard/stats`);\n  }\n\n  getReports(): Observable<Report[]> {\n    return this.http.get<Report[]>(this.apiUrl);\n  }\n\n  generateReport(config: ReportConfig): Observable<Report> {\n    return this.http.post<Report>(`${this.apiUrl}/generate`, config);\n  }\n\n  downloadReport(id: number): Observable<Blob> {\n    return this.http.get(`${this.apiUrl}/${id}/download`, {\n      responseType: 'blob'\n    });\n  }\n\n  getHRReport(period: string): Observable<any> {\n    return this.http.get(`${this.apiUrl}/hr`, { params: { period } });\n  }\n\n  getBudgetReport(year: number): Observable<any> {\n    return this.http.get(`${this.apiUrl}/budget`, { params: { year: year.toString() } });\n  }\n\n  getClaimsReport(period: string): Observable<any> {\n    return this.http.get(`${this.apiUrl}/claims`, { params: { period } });\n  }\n\n  getProjectsReport(): Observable<any> {\n    return this.http.get(`${this.apiUrl}/projects`);\n  }\n}\n"],"mappings":";;;AASA,WAAaA,aAAa;EAApB,MAAOA,aAAa;IAIdC,IAAA;IACAC,MAAA;IAJFC,MAAM;IAEdC,YACUH,IAAgB,EAChBC,MAAqB;MADrB,KAAAD,IAAI,GAAJA,IAAI;MACJ,KAAAC,MAAM,GAANA,MAAM;MAEd,IAAI,CAACC,MAAM,GAAG,IAAI,CAACD,MAAM,CAACG,gBAAgB,EAAE;IAC9C;IAEAC,iBAAiBA,CAAA;MACf,OAAO,IAAI,CAACL,IAAI,CAACM,GAAG,CAAiB,GAAG,IAAI,CAACJ,MAAM,kBAAkB,CAAC;IACxE;IAEAK,UAAUA,CAAA;MACR,OAAO,IAAI,CAACP,IAAI,CAACM,GAAG,CAAW,IAAI,CAACJ,MAAM,CAAC;IAC7C;IAEAM,cAAcA,CAACP,MAAoB;MACjC,OAAO,IAAI,CAACD,IAAI,CAACS,IAAI,CAAS,GAAG,IAAI,CAACP,MAAM,WAAW,EAAED,MAAM,CAAC;IAClE;IAEAS,cAAcA,CAACC,EAAU;MACvB,OAAO,IAAI,CAACX,IAAI,CAACM,GAAG,CAAC,GAAG,IAAI,CAACJ,MAAM,IAAIS,EAAE,WAAW,EAAE;QACpDC,YAAY,EAAE;OACf,CAAC;IACJ;IAEAC,WAAWA,CAACC,MAAc;MACxB,OAAO,IAAI,CAACd,IAAI,CAACM,GAAG,CAAC,GAAG,IAAI,CAACJ,MAAM,KAAK,EAAE;QAAEa,MAAM,EAAE;UAAED;QAAM;MAAE,CAAE,CAAC;IACnE;IAEAE,eAAeA,CAACC,IAAY;MAC1B,OAAO,IAAI,CAACjB,IAAI,CAACM,GAAG,CAAC,GAAG,IAAI,CAACJ,MAAM,SAAS,EAAE;QAAEa,MAAM,EAAE;UAAEE,IAAI,EAAEA,IAAI,CAACC,QAAQ;QAAE;MAAE,CAAE,CAAC;IACtF;IAEAC,eAAeA,CAACL,MAAc;MAC5B,OAAO,IAAI,CAACd,IAAI,CAACM,GAAG,CAAC,GAAG,IAAI,CAACJ,MAAM,SAAS,EAAE;QAAEa,MAAM,EAAE;UAAED;QAAM;MAAE,CAAE,CAAC;IACvE;IAEAM,iBAAiBA,CAAA;MACf,OAAO,IAAI,CAACpB,IAAI,CAACM,GAAG,CAAC,GAAG,IAAI,CAACJ,MAAM,WAAW,CAAC;IACjD;;uBA1CWH,aAAa,EAAAsB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,QAAA,CAAAG,EAAA,CAAAC,aAAA;IAAA;;aAAb3B,aAAa;MAAA4B,OAAA,EAAb5B,aAAa,CAAA6B,IAAA;MAAAC,UAAA,EAFZ;IAAM;;SAEP9B,aAAa;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
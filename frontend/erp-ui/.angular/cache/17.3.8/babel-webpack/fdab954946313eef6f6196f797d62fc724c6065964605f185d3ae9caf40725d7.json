{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/employee.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AttendanceComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1, \"Chargement...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AttendanceComponent_div_9_tr_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\")(15, \"span\", 10);\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const att_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(att_r1.employeeName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 8, att_r1.date, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(8, 11, att_r1.checkIn, \"HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 14, att_r1.checkOut, \"HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(att_r1.hoursWorked);\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassMap(\"status-\" + att_r1.status.toLowerCase());\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", att_r1.status, \" \");\n  }\n}\nfunction AttendanceComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"table\", 8)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Employ\\u00E9\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Entr\\u00E9e\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"Sortie\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Heures\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\");\n    i0.ɵɵtext(15, \"Statut\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(16, \"tbody\");\n    i0.ɵɵtemplate(17, AttendanceComponent_div_9_tr_17_Template, 17, 17, \"tr\", 9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.attendances);\n  }\n}\nexport let AttendanceComponent = /*#__PURE__*/(() => {\n  class AttendanceComponent {\n    employeeService;\n    attendances = [];\n    loading = true;\n    selectedDate = new Date();\n    constructor(employeeService) {\n      this.employeeService = employeeService;\n    }\n    ngOnInit() {\n      this.loadAttendances();\n    }\n    loadAttendances() {\n      const startDate = new Date(this.selectedDate);\n      startDate.setHours(0, 0, 0, 0);\n      const endDate = new Date(this.selectedDate);\n      endDate.setHours(23, 59, 59, 999);\n      this.employeeService.getAttendances(startDate, endDate).subscribe({\n        next: data => {\n          this.attendances = data;\n          this.loading = false;\n        },\n        error: () => {\n          this.loading = false;\n        }\n      });\n    }\n    onDateChange() {\n      this.loadAttendances();\n    }\n    static ɵfac = function AttendanceComponent_Factory(t) {\n      return new (t || AttendanceComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AttendanceComponent,\n      selectors: [[\"app-attendance\"]],\n      decls: 10,\n      vars: 3,\n      consts: [[1, \"page-container\"], [1, \"page-header\"], [1, \"date-filter\"], [\"type\", \"date\", 1, \"date-input\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"table-container\", 4, \"ngIf\"], [1, \"loading\"], [1, \"table-container\"], [1, \"data-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"status-badge\"]],\n      template: function AttendanceComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Pointage\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\");\n          i0.ɵɵtext(6, \"Date:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"input\", 3);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function AttendanceComponent_Template_input_ngModelChange_7_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.selectedDate, $event) || (ctx.selectedDate = $event);\n            return $event;\n          });\n          i0.ɵɵlistener(\"ngModelChange\", function AttendanceComponent_Template_input_ngModelChange_7_listener() {\n            return ctx.onDateChange();\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(8, AttendanceComponent_div_8_Template, 2, 0, \"div\", 4)(9, AttendanceComponent_div_9_Template, 18, 1, \"div\", 5);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(7);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.selectedDate);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n      styles: [\".date-filter[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;align-items:center;gap:10px}.date-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.date-input[_ngcontent-%COMP%]{padding:8px;border:1px solid #ddd;border-radius:4px;font-size:14px}\"]\n    });\n  }\n  return AttendanceComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/claim.service\";\nimport * as i2 from \"../../services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/router\";\nconst _c0 = a0 => [\"/dashboard/claims\", a0];\nfunction ClaimsListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 25)(1, \"div\", 26)(2, \"span\", 27);\n    i0.…µ…µtext(3);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(4, \"span\", 28);\n    i0.…µ…µtext(5, \"Total\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(6, \"div\", 29)(7, \"span\", 27);\n    i0.…µ…µtext(8);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(9, \"span\", 28);\n    i0.…µ…µtext(10, \"Nouvelles\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(11, \"div\", 30)(12, \"span\", 27);\n    i0.…µ…µtext(13);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(14, \"span\", 28);\n    i0.…µ…µtext(15, \"En cours\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(16, \"div\", 31)(17, \"span\", 27);\n    i0.…µ…µtext(18);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(19, \"span\", 28);\n    i0.…µ…µtext(20, \"R\\u00E9solues\");\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(21, \"div\", 32)(22, \"span\", 27);\n    i0.…µ…µtext(23);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(24, \"span\", 28);\n    i0.…µ…µtext(25, \"Ferm\\u00E9es\");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(ctx_r0.stats.total);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r0.stats.new);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r0.stats.inProgress);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r0.stats.resolved);\n    i0.…µ…µadvance(5);\n    i0.…µ…µtextInterpolate(ctx_r0.stats.closed);\n  }\n}\nfunction ClaimsListComponent_div_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 33);\n    i0.…µ…µtext(1, \"Chargement...\");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction ClaimsListComponent_div_52_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"tr\")(1, \"td\");\n    i0.…µ…µtext(2);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(3, \"td\")(4, \"div\");\n    i0.…µ…µtext(5);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"small\");\n    i0.…µ…µtext(7);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(8, \"td\");\n    i0.…µ…µtext(9);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"td\");\n    i0.…µ…µtext(11);\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"td\")(13, \"span\", 37);\n    i0.…µ…µtext(14);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(15, \"td\")(16, \"span\", 38);\n    i0.…µ…µtext(17);\n    i0.…µ…µelementEnd()();\n    i0.…µ…µelementStart(18, \"td\");\n    i0.…µ…µtext(19);\n    i0.…µ…µpipe(20, \"date\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(21, \"td\", 39)(22, \"button\", 40);\n    i0.…µ…µtext(23, \"\\uD83D\\uDC41\\uFE0F Voir\");\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const claim_r2 = ctx.$implicit;\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate1(\"#\", claim_r2.id, \"\");\n    i0.…µ…µadvance(3);\n    i0.…µ…µtextInterpolate(claim_r2.citizenName);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(claim_r2.citizenPhone);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(claim_r2.category);\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(claim_r2.subject);\n    i0.…µ…µadvance(2);\n    i0.…µ…µclassMap(\"priority-\" + claim_r2.priority.toLowerCase());\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", claim_r2.priority, \" \");\n    i0.…µ…µadvance(2);\n    i0.…µ…µclassMap(\"status-\" + claim_r2.status.toLowerCase().replace(\"_\", \"-\"));\n    i0.…µ…µadvance();\n    i0.…µ…µtextInterpolate1(\" \", claim_r2.status, \" \");\n    i0.…µ…µadvance(2);\n    i0.…µ…µtextInterpolate(i0.…µ…µpipeBind2(20, 13, claim_r2.createdAt, \"dd/MM/yyyy\"));\n    i0.…µ…µadvance(3);\n    i0.…µ…µproperty(\"routerLink\", i0.…µ…µpureFunction1(16, _c0, claim_r2.id));\n  }\n}\nfunction ClaimsListComponent_div_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 34)(1, \"table\", 35)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.…µ…µtext(5, \"ID\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(6, \"th\");\n    i0.…µ…µtext(7, \"Citoyen\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(8, \"th\");\n    i0.…µ…µtext(9, \"Cat\\u00E9gorie\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(10, \"th\");\n    i0.…µ…µtext(11, \"Sujet\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(12, \"th\");\n    i0.…µ…µtext(13, \"Priorit\\u00E9\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(14, \"th\");\n    i0.…µ…µtext(15, \"Statut\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(16, \"th\");\n    i0.…µ…µtext(17, \"Date\");\n    i0.…µ…µelementEnd();\n    i0.…µ…µelementStart(18, \"th\");\n    i0.…µ…µtext(19, \"Actions\");\n    i0.…µ…µelementEnd()()();\n    i0.…µ…µelementStart(20, \"tbody\");\n    i0.…µ…µtemplate(21, ClaimsListComponent_div_52_tr_21_Template, 24, 18, \"tr\", 36);\n    i0.…µ…µelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(21);\n    i0.…µ…µproperty(\"ngForOf\", ctx_r0.filteredClaims);\n  }\n}\nexport let ClaimsListComponent = /*#__PURE__*/(() => {\n  class ClaimsListComponent {\n    claimService;\n    authService;\n    claims = [];\n    filteredClaims = [];\n    stats = null;\n    loading = true;\n    searchTerm = '';\n    filterStatus = '';\n    filterCategory = '';\n    filterPriority = '';\n    currentUser = null;\n    constructor(claimService, authService) {\n      this.claimService = claimService;\n      this.authService = authService;\n    }\n    ngOnInit() {\n      this.currentUser = this.authService.getCurrentUser();\n      this.loadClaims();\n      this.loadStats();\n    }\n    loadClaims() {\n      this.claimService.getClaims().subscribe({\n        next: data => {\n          // FILTRE IMPORTANT: Si CITIZEN, voir SEULEMENT ses r√©clamations\n          if (this.isCitizen()) {\n            const userEmail = this.currentUser?.email?.toLowerCase();\n            const userName = this.currentUser?.username?.toLowerCase();\n            this.claims = data.filter(claim => {\n              const claimEmail = claim.citizenEmail?.toLowerCase();\n              const claimName = claim.citizenName?.toLowerCase();\n              // Correspondance exacte sur email OU username\n              return userEmail && claimEmail === userEmail || userName && claimName === userName;\n            });\n            console.log('üîç Filtre citoyen:', {\n              userEmail,\n              userName,\n              totalClaims: data.length,\n              myClaims: this.claims.length\n            });\n          } else {\n            // AGENT, CHIEF, ADMIN voient TOUTES les r√©clamations\n            this.claims = data;\n          }\n          this.filteredClaims = this.claims;\n          this.loading = false;\n        },\n        error: () => {\n          this.loading = false;\n        }\n      });\n    }\n    isCitizen() {\n      return this.currentUser?.role?.toUpperCase() === 'CITIZEN';\n    }\n    loadStats() {\n      this.claimService.getStats().subscribe({\n        next: data => {\n          this.stats = data;\n        }\n      });\n    }\n    filterClaims() {\n      this.filteredClaims = this.claims.filter(claim => {\n        const matchesSearch = !this.searchTerm || claim.citizenName.toLowerCase().includes(this.searchTerm.toLowerCase()) || claim.subject.toLowerCase().includes(this.searchTerm.toLowerCase());\n        const matchesStatus = !this.filterStatus || claim.status === this.filterStatus;\n        const matchesCategory = !this.filterCategory || claim.category === this.filterCategory;\n        const matchesPriority = !this.filterPriority || claim.priority === this.filterPriority;\n        return matchesSearch && matchesStatus && matchesCategory && matchesPriority;\n      });\n    }\n    updateStatus(id, status) {\n      this.claimService.updateClaimStatus(id, status).subscribe({\n        next: () => {\n          this.loadClaims();\n          this.loadStats();\n        }\n      });\n    }\n    deleteClaim(id) {\n      if (confirm('√ätes-vous s√ªr de vouloir supprimer cette r√©clamation?')) {\n        this.claimService.deleteClaim(id).subscribe({\n          next: () => {\n            this.loadClaims();\n            this.loadStats();\n          }\n        });\n      }\n    }\n    static …µfac = function ClaimsListComponent_Factory(t) {\n      return new (t || ClaimsListComponent)(i0.…µ…µdirectiveInject(i1.ClaimService), i0.…µ…µdirectiveInject(i2.AuthService));\n    };\n    static …µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: ClaimsListComponent,\n      selectors: [[\"app-claims-list\"]],\n      decls: 53,\n      vars: 8,\n      consts: [[1, \"page-container\"], [1, \"page-header\"], [\"routerLink\", \"/dashboard/claims/new\", 1, \"btn\", \"btn-primary\"], [\"class\", \"stats-row\", 4, \"ngIf\"], [1, \"filters\"], [\"type\", \"text\", \"placeholder\", \"Rechercher par citoyen ou sujet...\", 1, \"search-input\", 3, \"ngModelChange\", \"ngModel\"], [1, \"filter-select\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"\"], [\"value\", \"NEW\"], [\"value\", \"IN_PROGRESS\"], [\"value\", \"RESOLVED\"], [\"value\", \"CLOSED\"], [\"value\", \"REJECTED\"], [\"value\", \"INFRASTRUCTURE\"], [\"value\", \"SANITATION\"], [\"value\", \"LIGHTING\"], [\"value\", \"SECURITY\"], [\"value\", \"ADMINISTRATIVE\"], [\"value\", \"OTHER\"], [\"value\", \"LOW\"], [\"value\", \"MEDIUM\"], [\"value\", \"HIGH\"], [\"value\", \"URGENT\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"table-container\", 4, \"ngIf\"], [1, \"stats-row\"], [1, \"stat-mini\"], [1, \"stat-value\"], [1, \"stat-label\"], [1, \"stat-mini\", \"new\"], [1, \"stat-mini\", \"progress\"], [1, \"stat-mini\", \"resolved\"], [1, \"stat-mini\", \"closed\"], [1, \"loading\"], [1, \"table-container\"], [1, \"data-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"priority-badge\"], [1, \"status-badge\"], [1, \"actions\"], [\"title\", \"Voir les d\\u00E9tails\", 1, \"btn-icon\", 3, \"routerLink\"]],\n      template: function ClaimsListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\")(3, \"h1\");\n          i0.…µ…µtext(4, \"Gestion des R\\u00E9clamations\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(5, \"p\");\n          i0.…µ…µtext(6);\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(7, \"button\", 2);\n          i0.…µ…µtext(8, \" + Nouvelle R\\u00E9clamation \");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µtemplate(9, ClaimsListComponent_div_9_Template, 26, 5, \"div\", 3);\n          i0.…µ…µelementStart(10, \"div\", 4)(11, \"input\", 5);\n          i0.…µ…µtwoWayListener(\"ngModelChange\", function ClaimsListComponent_Template_input_ngModelChange_11_listener($event) {\n            i0.…µ…µtwoWayBindingSet(ctx.searchTerm, $event) || (ctx.searchTerm = $event);\n            return $event;\n          });\n          i0.…µ…µlistener(\"ngModelChange\", function ClaimsListComponent_Template_input_ngModelChange_11_listener() {\n            return ctx.filterClaims();\n          });\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(12, \"select\", 6);\n          i0.…µ…µtwoWayListener(\"ngModelChange\", function ClaimsListComponent_Template_select_ngModelChange_12_listener($event) {\n            i0.…µ…µtwoWayBindingSet(ctx.filterStatus, $event) || (ctx.filterStatus = $event);\n            return $event;\n          });\n          i0.…µ…µlistener(\"ngModelChange\", function ClaimsListComponent_Template_select_ngModelChange_12_listener() {\n            return ctx.filterClaims();\n          });\n          i0.…µ…µelementStart(13, \"option\", 7);\n          i0.…µ…µtext(14, \"Tous les statuts\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(15, \"option\", 8);\n          i0.…µ…µtext(16, \"Nouvelle\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(17, \"option\", 9);\n          i0.…µ…µtext(18, \"En cours\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(19, \"option\", 10);\n          i0.…µ…µtext(20, \"R\\u00E9solue\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(21, \"option\", 11);\n          i0.…µ…µtext(22, \"Ferm\\u00E9e\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(23, \"option\", 12);\n          i0.…µ…µtext(24, \"Rejet\\u00E9e\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(25, \"select\", 6);\n          i0.…µ…µtwoWayListener(\"ngModelChange\", function ClaimsListComponent_Template_select_ngModelChange_25_listener($event) {\n            i0.…µ…µtwoWayBindingSet(ctx.filterCategory, $event) || (ctx.filterCategory = $event);\n            return $event;\n          });\n          i0.…µ…µlistener(\"ngModelChange\", function ClaimsListComponent_Template_select_ngModelChange_25_listener() {\n            return ctx.filterClaims();\n          });\n          i0.…µ…µelementStart(26, \"option\", 7);\n          i0.…µ…µtext(27, \"Toutes les cat\\u00E9gories\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(28, \"option\", 13);\n          i0.…µ…µtext(29, \"Infrastructure\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(30, \"option\", 14);\n          i0.…µ…µtext(31, \"Assainissement\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(32, \"option\", 15);\n          i0.…µ…µtext(33, \"\\u00C9clairage\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(34, \"option\", 16);\n          i0.…µ…µtext(35, \"S\\u00E9curit\\u00E9\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(36, \"option\", 17);\n          i0.…µ…µtext(37, \"Administratif\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(38, \"option\", 18);\n          i0.…µ…µtext(39, \"Autre\");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(40, \"select\", 6);\n          i0.…µ…µtwoWayListener(\"ngModelChange\", function ClaimsListComponent_Template_select_ngModelChange_40_listener($event) {\n            i0.…µ…µtwoWayBindingSet(ctx.filterPriority, $event) || (ctx.filterPriority = $event);\n            return $event;\n          });\n          i0.…µ…µlistener(\"ngModelChange\", function ClaimsListComponent_Template_select_ngModelChange_40_listener() {\n            return ctx.filterClaims();\n          });\n          i0.…µ…µelementStart(41, \"option\", 7);\n          i0.…µ…µtext(42, \"Toutes les priorit\\u00E9s\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(43, \"option\", 19);\n          i0.…µ…µtext(44, \"Basse\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(45, \"option\", 20);\n          i0.…µ…µtext(46, \"Moyenne\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(47, \"option\", 21);\n          i0.…µ…µtext(48, \"Haute\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(49, \"option\", 22);\n          i0.…µ…µtext(50, \"Urgente\");\n          i0.…µ…µelementEnd()()();\n          i0.…µ…µtemplate(51, ClaimsListComponent_div_51_Template, 2, 0, \"div\", 23)(52, ClaimsListComponent_div_52_Template, 22, 1, \"div\", 24);\n          i0.…µ…µelementEnd();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(6);\n          i0.…µ…µtextInterpolate1(\"\", ctx.filteredClaims.length, \" r\\u00E9clamation(s)\");\n          i0.…µ…µadvance(3);\n          i0.…µ…µproperty(\"ngIf\", ctx.stats);\n          i0.…µ…µadvance(2);\n          i0.…µ…µtwoWayProperty(\"ngModel\", ctx.searchTerm);\n          i0.…µ…µadvance();\n          i0.…µ…µtwoWayProperty(\"ngModel\", ctx.filterStatus);\n          i0.…µ…µadvance(13);\n          i0.…µ…µtwoWayProperty(\"ngModel\", ctx.filterCategory);\n          i0.…µ…µadvance(15);\n          i0.…µ…µtwoWayProperty(\"ngModel\", ctx.filterPriority);\n          i0.…µ…µadvance(11);\n          i0.…µ…µproperty(\"ngIf\", ctx.loading);\n          i0.…µ…µadvance();\n          i0.…µ…µproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.…µNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i5.RouterLink, i3.DatePipe],\n      styles: [\".stats-row[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 15px;\\n  margin-bottom: 20px;\\n}\\n\\n.stat-mini[_ngcontent-%COMP%] {\\n  flex: 1;\\n  background: white;\\n  padding: 15px;\\n  border-radius: 8px;\\n  text-align: center;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n  border-left: 4px solid #95a5a6;\\n}\\n\\n.stat-mini.new[_ngcontent-%COMP%] {\\n  border-left-color: #3498db;\\n}\\n\\n.stat-mini.progress[_ngcontent-%COMP%] {\\n  border-left-color: #f39c12;\\n}\\n\\n.stat-mini.resolved[_ngcontent-%COMP%] {\\n  border-left-color: #27ae60;\\n}\\n\\n.stat-mini.closed[_ngcontent-%COMP%] {\\n  border-left-color: #7f8c8d;\\n}\\n\\n.stat-value[_ngcontent-%COMP%] {\\n  display: block;\\n  font-size: 24px;\\n  font-weight: bold;\\n  color: #2c3e50;\\n}\\n\\n.stat-label[_ngcontent-%COMP%] {\\n  display: block;\\n  font-size: 12px;\\n  color: #7f8c8d;\\n  margin-top: 5px;\\n}\\n\\n.filters[_ngcontent-%COMP%] {\\n  display: flex;\\n  gap: 10px;\\n  margin-bottom: 20px;\\n  flex-wrap: wrap;\\n}\\n\\n.search-input[_ngcontent-%COMP%] {\\n  flex: 1;\\n  min-width: 200px;\\n}\\n\\n.priority-badge[_ngcontent-%COMP%] {\\n  padding: 4px 8px;\\n  border-radius: 4px;\\n  font-size: 12px;\\n  font-weight: 500;\\n}\\n\\n.priority-low[_ngcontent-%COMP%] {\\n  background: #d1ecf1;\\n  color: #0c5460;\\n}\\n\\n.priority-medium[_ngcontent-%COMP%] {\\n  background: #fff3cd;\\n  color: #856404;\\n}\\n\\n.priority-high[_ngcontent-%COMP%] {\\n  background: #f8d7da;\\n  color: #721c24;\\n}\\n\\n.priority-urgent[_ngcontent-%COMP%] {\\n  background: #dc3545;\\n  color: white;\\n}\\n\\n.status-new[_ngcontent-%COMP%] {\\n  background: #d1ecf1;\\n  color: #0c5460;\\n}\\n\\n.status-in-progress[_ngcontent-%COMP%] {\\n  background: #fff3cd;\\n  color: #856404;\\n}\\n\\n.status-resolved[_ngcontent-%COMP%] {\\n  background: #d4edda;\\n  color: #155724;\\n}\\n\\n.status-closed[_ngcontent-%COMP%] {\\n  background: #e2e3e5;\\n  color: #383d41;\\n}\\n\\n.status-rejected[_ngcontent-%COMP%] {\\n  background: #f8d7da;\\n  color: #721c24;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2xhaW1zL2NsYWltcy1saXN0L2NsYWltcy1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2IsU0FBUztFQUNULG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLE9BQU87RUFDUCxpQkFBaUI7RUFDakIsYUFBYTtFQUNiLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIscUNBQXFDO0VBQ3JDLDhCQUE4QjtBQUNoQzs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxlQUFlO0VBQ2YsaUJBQWlCO0VBQ2pCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGNBQWM7RUFDZCxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLFNBQVM7RUFDVCxtQkFBbUI7RUFDbkIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLE9BQU87RUFDUCxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsbUJBQW1CO0VBQ25CLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi5zdGF0cy1yb3cge1xuICBkaXNwbGF5OiBmbGV4O1xuICBnYXA6IDE1cHg7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG59XG5cbi5zdGF0LW1pbmkge1xuICBmbGV4OiAxO1xuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgcGFkZGluZzogMTVweDtcbiAgYm9yZGVyLXJhZGl1czogOHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMSk7XG4gIGJvcmRlci1sZWZ0OiA0cHggc29saWQgIzk1YTVhNjtcbn1cblxuLnN0YXQtbWluaS5uZXcge1xuICBib3JkZXItbGVmdC1jb2xvcjogIzM0OThkYjtcbn1cblxuLnN0YXQtbWluaS5wcm9ncmVzcyB7XG4gIGJvcmRlci1sZWZ0LWNvbG9yOiAjZjM5YzEyO1xufVxuXG4uc3RhdC1taW5pLnJlc29sdmVkIHtcbiAgYm9yZGVyLWxlZnQtY29sb3I6ICMyN2FlNjA7XG59XG5cbi5zdGF0LW1pbmkuY2xvc2VkIHtcbiAgYm9yZGVyLWxlZnQtY29sb3I6ICM3ZjhjOGQ7XG59XG5cbi5zdGF0LXZhbHVlIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiAjMmMzZTUwO1xufVxuXG4uc3RhdC1sYWJlbCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LXNpemU6IDEycHg7XG4gIGNvbG9yOiAjN2Y4YzhkO1xuICBtYXJnaW4tdG9wOiA1cHg7XG59XG5cbi5maWx0ZXJzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZ2FwOiAxMHB4O1xuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG59XG5cbi5zZWFyY2gtaW5wdXQge1xuICBmbGV4OiAxO1xuICBtaW4td2lkdGg6IDIwMHB4O1xufVxuXG4ucHJpb3JpdHktYmFkZ2Uge1xuICBwYWRkaW5nOiA0cHggOHB4O1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuLnByaW9yaXR5LWxvdyB7XG4gIGJhY2tncm91bmQ6ICNkMWVjZjE7XG4gIGNvbG9yOiAjMGM1NDYwO1xufVxuXG4ucHJpb3JpdHktbWVkaXVtIHtcbiAgYmFja2dyb3VuZDogI2ZmZjNjZDtcbiAgY29sb3I6ICM4NTY0MDQ7XG59XG5cbi5wcmlvcml0eS1oaWdoIHtcbiAgYmFja2dyb3VuZDogI2Y4ZDdkYTtcbiAgY29sb3I6ICM3MjFjMjQ7XG59XG5cbi5wcmlvcml0eS11cmdlbnQge1xuICBiYWNrZ3JvdW5kOiAjZGMzNTQ1O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5zdGF0dXMtbmV3IHtcbiAgYmFja2dyb3VuZDogI2QxZWNmMTtcbiAgY29sb3I6ICMwYzU0NjA7XG59XG5cbi5zdGF0dXMtaW4tcHJvZ3Jlc3Mge1xuICBiYWNrZ3JvdW5kOiAjZmZmM2NkO1xuICBjb2xvcjogIzg1NjQwNDtcbn1cblxuLnN0YXR1cy1yZXNvbHZlZCB7XG4gIGJhY2tncm91bmQ6ICNkNGVkZGE7XG4gIGNvbG9yOiAjMTU1NzI0O1xufVxuXG4uc3RhdHVzLWNsb3NlZCB7XG4gIGJhY2tncm91bmQ6ICNlMmUzZTU7XG4gIGNvbG9yOiAjMzgzZDQxO1xufVxuXG4uc3RhdHVzLXJlamVjdGVkIHtcbiAgYmFja2dyb3VuZDogI2Y4ZDdkYTtcbiAgY29sb3I6ICM3MjFjMjQ7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n  return ClaimsListComponent;\n})();","map":{"version":3,"names":["i0","…µ…µelementStart","…µ…µtext","…µ…µelementEnd","…µ…µadvance","…µ…µtextInterpolate","ctx_r0","stats","total","new","inProgress","resolved","closed","…µ…µtextInterpolate1","claim_r2","id","citizenName","citizenPhone","category","subject","…µ…µclassMap","priority","toLowerCase","status","replace","…µ…µpipeBind2","createdAt","…µ…µproperty","…µ…µpureFunction1","_c0","…µ…µtemplate","ClaimsListComponent_div_52_tr_21_Template","filteredClaims","ClaimsListComponent","claimService","authService","claims","loading","searchTerm","filterStatus","filterCategory","filterPriority","currentUser","constructor","ngOnInit","getCurrentUser","loadClaims","loadStats","getClaims","subscribe","next","data","isCitizen","userEmail","email","userName","username","filter","claim","claimEmail","citizenEmail","claimName","console","log","totalClaims","length","myClaims","error","role","toUpperCase","getStats","filterClaims","matchesSearch","includes","matchesStatus","matchesCategory","matchesPriority","updateStatus","updateClaimStatus","deleteClaim","confirm","…µ…µdirectiveInject","i1","ClaimService","i2","AuthService","selectors","decls","vars","consts","template","ClaimsListComponent_Template","rf","ctx","ClaimsListComponent_div_9_Template","…µ…µtwoWayListener","ClaimsListComponent_Template_input_ngModelChange_11_listener","$event","…µ…µtwoWayBindingSet","…µ…µlistener","ClaimsListComponent_Template_select_ngModelChange_12_listener","ClaimsListComponent_Template_select_ngModelChange_25_listener","ClaimsListComponent_Template_select_ngModelChange_40_listener","ClaimsListComponent_div_51_Template","ClaimsListComponent_div_52_Template","…µ…µtwoWayProperty"],"sources":["/home/sahar/Bureau/ERp/frontend/erp-ui/src/app/claims/claims-list/claims-list.component.ts","/home/sahar/Bureau/ERp/frontend/erp-ui/src/app/claims/claims-list/claims-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ClaimService } from '../../services/claim.service';\nimport { AuthService } from '../../services/auth.service';\nimport { Claim, ClaimStats } from '../../models/claim.model';\nimport { User } from '../../models/user.model';\n\n@Component({\n  selector: 'app-claims-list',\n  templateUrl: './claims-list.component.html',\n  styleUrls: ['./claims-list.component.css']\n})\nexport class ClaimsListComponent implements OnInit {\n  claims: Claim[] = [];\n  filteredClaims: Claim[] = [];\n  stats: ClaimStats | null = null;\n  loading = true;\n  searchTerm = '';\n  filterStatus = '';\n  filterCategory = '';\n  filterPriority = '';\n  currentUser: User | null = null;\n\n  constructor(\n    private claimService: ClaimService,\n    private authService: AuthService\n  ) {}\n\n  ngOnInit() {\n    this.currentUser = this.authService.getCurrentUser();\n    this.loadClaims();\n    this.loadStats();\n  }\n\n  loadClaims() {\n    this.claimService.getClaims().subscribe({\n      next: (data) => {\n        // FILTRE IMPORTANT: Si CITIZEN, voir SEULEMENT ses r√©clamations\n        if (this.isCitizen()) {\n          const userEmail = this.currentUser?.email?.toLowerCase();\n          const userName = this.currentUser?.username?.toLowerCase();\n          \n          this.claims = data.filter(claim => {\n            const claimEmail = claim.citizenEmail?.toLowerCase();\n            const claimName = claim.citizenName?.toLowerCase();\n            \n            // Correspondance exacte sur email OU username\n            return (userEmail && claimEmail === userEmail) || \n                   (userName && claimName === userName);\n          });\n          \n          console.log('üîç Filtre citoyen:', {\n            userEmail,\n            userName,\n            totalClaims: data.length,\n            myClaims: this.claims.length\n          });\n        } else {\n          // AGENT, CHIEF, ADMIN voient TOUTES les r√©clamations\n          this.claims = data;\n        }\n        this.filteredClaims = this.claims;\n        this.loading = false;\n      },\n      error: () => {\n        this.loading = false;\n      }\n    });\n  }\n\n  isCitizen(): boolean {\n    return this.currentUser?.role?.toUpperCase() === 'CITIZEN';\n  }\n\n  loadStats() {\n    this.claimService.getStats().subscribe({\n      next: (data) => {\n        this.stats = data;\n      }\n    });\n  }\n\n  filterClaims() {\n    this.filteredClaims = this.claims.filter(claim => {\n      const matchesSearch = !this.searchTerm || \n        claim.citizenName.toLowerCase().includes(this.searchTerm.toLowerCase()) ||\n        claim.subject.toLowerCase().includes(this.searchTerm.toLowerCase());\n      \n      const matchesStatus = !this.filterStatus || claim.status === this.filterStatus;\n      const matchesCategory = !this.filterCategory || claim.category === this.filterCategory;\n      const matchesPriority = !this.filterPriority || claim.priority === this.filterPriority;\n      \n      return matchesSearch && matchesStatus && matchesCategory && matchesPriority;\n    });\n  }\n\n  updateStatus(id: string, status: string) {\n    this.claimService.updateClaimStatus(id, status).subscribe({\n      next: () => {\n        this.loadClaims();\n        this.loadStats();\n      }\n    });\n  }\n\n  deleteClaim(id: string) {\n    if (confirm('√ätes-vous s√ªr de vouloir supprimer cette r√©clamation?')) {\n      this.claimService.deleteClaim(id).subscribe({\n        next: () => {\n          this.loadClaims();\n          this.loadStats();\n        }\n      });\n    }\n  }\n}\n","<div class=\"page-container\">\n  <div class=\"page-header\">\n    <div>\n      <h1>Gestion des R√©clamations</h1>\n      <p>{{ filteredClaims.length }} r√©clamation(s)</p>\n    </div>\n    <button routerLink=\"/dashboard/claims/new\" class=\"btn btn-primary\">\n      + Nouvelle R√©clamation\n    </button>\n  </div>\n\n  <!-- Statistics Cards -->\n  <div class=\"stats-row\" *ngIf=\"stats\">\n    <div class=\"stat-mini\">\n      <span class=\"stat-value\">{{ stats.total }}</span>\n      <span class=\"stat-label\">Total</span>\n    </div>\n    <div class=\"stat-mini new\">\n      <span class=\"stat-value\">{{ stats.new }}</span>\n      <span class=\"stat-label\">Nouvelles</span>\n    </div>\n    <div class=\"stat-mini progress\">\n      <span class=\"stat-value\">{{ stats.inProgress }}</span>\n      <span class=\"stat-label\">En cours</span>\n    </div>\n    <div class=\"stat-mini resolved\">\n      <span class=\"stat-value\">{{ stats.resolved }}</span>\n      <span class=\"stat-label\">R√©solues</span>\n    </div>\n    <div class=\"stat-mini closed\">\n      <span class=\"stat-value\">{{ stats.closed }}</span>\n      <span class=\"stat-label\">Ferm√©es</span>\n    </div>\n  </div>\n\n  <!-- Filters -->\n  <div class=\"filters\">\n    <input \n      type=\"text\" \n      [(ngModel)]=\"searchTerm\" \n      (ngModelChange)=\"filterClaims()\"\n      placeholder=\"Rechercher par citoyen ou sujet...\"\n      class=\"search-input\"\n    />\n    \n    <select [(ngModel)]=\"filterStatus\" (ngModelChange)=\"filterClaims()\" class=\"filter-select\">\n      <option value=\"\">Tous les statuts</option>\n      <option value=\"NEW\">Nouvelle</option>\n      <option value=\"IN_PROGRESS\">En cours</option>\n      <option value=\"RESOLVED\">R√©solue</option>\n      <option value=\"CLOSED\">Ferm√©e</option>\n      <option value=\"REJECTED\">Rejet√©e</option>\n    </select>\n\n    <select [(ngModel)]=\"filterCategory\" (ngModelChange)=\"filterClaims()\" class=\"filter-select\">\n      <option value=\"\">Toutes les cat√©gories</option>\n      <option value=\"INFRASTRUCTURE\">Infrastructure</option>\n      <option value=\"SANITATION\">Assainissement</option>\n      <option value=\"LIGHTING\">√âclairage</option>\n      <option value=\"SECURITY\">S√©curit√©</option>\n      <option value=\"ADMINISTRATIVE\">Administratif</option>\n      <option value=\"OTHER\">Autre</option>\n    </select>\n\n    <select [(ngModel)]=\"filterPriority\" (ngModelChange)=\"filterClaims()\" class=\"filter-select\">\n      <option value=\"\">Toutes les priorit√©s</option>\n      <option value=\"LOW\">Basse</option>\n      <option value=\"MEDIUM\">Moyenne</option>\n      <option value=\"HIGH\">Haute</option>\n      <option value=\"URGENT\">Urgente</option>\n    </select>\n  </div>\n\n  <div class=\"loading\" *ngIf=\"loading\">Chargement...</div>\n\n  <div class=\"table-container\" *ngIf=\"!loading\">\n    <table class=\"data-table\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Citoyen</th>\n          <th>Cat√©gorie</th>\n          <th>Sujet</th>\n          <th>Priorit√©</th>\n          <th>Statut</th>\n          <th>Date</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let claim of filteredClaims\">\n          <td>#{{ claim.id }}</td>\n          <td>\n            <div>{{ claim.citizenName }}</div>\n            <small>{{ claim.citizenPhone }}</small>\n          </td>\n          <td>{{ claim.category }}</td>\n          <td>{{ claim.subject }}</td>\n          <td>\n            <span class=\"priority-badge\" [class]=\"'priority-' + claim.priority.toLowerCase()\">\n              {{ claim.priority }}\n            </span>\n          </td>\n          <td>\n            <span class=\"status-badge\" [class]=\"'status-' + claim.status.toLowerCase().replace('_', '-')\">\n              {{ claim.status }}\n            </span>\n          </td>\n          <td>{{ claim.createdAt | date: 'dd/MM/yyyy' }}</td>\n          <td class=\"actions\">\n            <button [routerLink]=\"['/dashboard/claims', claim.id]\" class=\"btn-icon\" title=\"Voir les d√©tails\">üëÅÔ∏è Voir</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/report.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ReportsComponent_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"label\");\n    i0.ɵɵtext(2, \"Date de d\\u00E9but\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ReportsComponent_div_48_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r1);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.reportConfig.startDate, $event) || (ctx_r1.reportConfig.startDate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.reportConfig.startDate);\n  }\n}\nfunction ReportsComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"label\");\n    i0.ɵɵtext(2, \"Date de fin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 26);\n    i0.ɵɵtwoWayListener(\"ngModelChange\", function ReportsComponent_div_49_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r1 = i0.ɵɵnextContext();\n      i0.ɵɵtwoWayBindingSet(ctx_r1.reportConfig.endDate, $event) || (ctx_r1.reportConfig.endDate = $event);\n      return i0.ɵɵresetView($event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtwoWayProperty(\"ngModel\", ctx_r1.reportConfig.endDate);\n  }\n}\nfunction ReportsComponent_span_51_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\uD83D\\uDCCA G\\u00E9n\\u00E9rer le rapport\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportsComponent_span_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"\\u23F3 G\\u00E9n\\u00E9ration en cours...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportsComponent_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1, \"Chargement...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ReportsComponent_div_57_tr_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ReportsComponent_div_57_tr_15_Template_button_click_11_listener() {\n      const report_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.downloadReport(report_r5.id));\n    });\n    i0.ɵɵtext(12, \" \\uD83D\\uDCE5 T\\u00E9l\\u00E9charger \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const report_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(report_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(report_r5.type);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(7, 4, report_r5.generatedAt, \"dd/MM/yyyy HH:mm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(report_r5.generatedBy);\n  }\n}\nfunction ReportsComponent_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"table\", 29)(2, \"thead\")(3, \"tr\")(4, \"th\");\n    i0.ɵɵtext(5, \"Nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\");\n    i0.ɵɵtext(9, \"Date de g\\u00E9n\\u00E9ration\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\");\n    i0.ɵɵtext(11, \"G\\u00E9n\\u00E9r\\u00E9 par\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\");\n    i0.ɵɵtext(13, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"tbody\");\n    i0.ɵɵtemplate(15, ReportsComponent_div_57_tr_15_Template, 13, 7, \"tr\", 30);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.reports);\n  }\n}\nexport let ReportsComponent = /*#__PURE__*/(() => {\n  class ReportsComponent {\n    reportService;\n    reports = [];\n    loading = true;\n    generating = false;\n    reportConfig = {\n      type: 'HR',\n      period: 'MONTHLY',\n      format: 'PDF'\n    };\n    constructor(reportService) {\n      this.reportService = reportService;\n    }\n    ngOnInit() {\n      this.loadReports();\n    }\n    loadReports() {\n      this.reportService.getReports().subscribe({\n        next: data => {\n          this.reports = data;\n          this.loading = false;\n        },\n        error: () => {\n          this.loading = false;\n        }\n      });\n    }\n    generateReport() {\n      this.generating = true;\n      // Simuler la génération de rapport (service Reports non disponible)\n      setTimeout(() => {\n        const newReport = {\n          id: Date.now(),\n          type: this.reportConfig.type,\n          period: this.reportConfig.period,\n          format: this.reportConfig.format,\n          generatedAt: new Date(),\n          generatedBy: 'Admin'\n        };\n        this.reports.unshift(newReport);\n        this.generating = false;\n        alert('Rapport généré avec succès (simulation)');\n      }, 1000);\n      /* Version avec API (quand service Reports sera disponible):\n      this.reportService.generateReport(this.reportConfig).subscribe({\n        next: (report) => {\n          this.generating = false;\n          this.loadReports();\n          alert('Rapport généré avec succès');\n        },\n        error: (error) => {\n          this.generating = false;\n          console.error('Erreur génération rapport:', error);\n          alert('Service Reports non disponible');\n        }\n      });\n      */\n    }\n    downloadReport(id) {\n      // Simulation de téléchargement (service Reports non disponible)\n      const report = this.reports.find(r => r.id === id);\n      if (!report) {\n        alert('Rapport non trouvé');\n        return;\n      }\n      // Créer un contenu PDF simulé\n      const content = `\nRapport ${report.type || 'N/A'}\nPériode: ${report.period || 'N/A'}\nFormat: ${report.format || 'PDF'}\nGénéré le: ${new Date(report.generatedAt || Date.now()).toLocaleString()}\nGénéré par: ${report.generatedBy || 'Admin'}\n\nCe rapport a été généré avec succès.\n(Simulation - Service Reports non disponible)\n    `;\n      const blob = new Blob([content], {\n        type: 'text/plain'\n      });\n      const url = window.URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `rapport_${report.type || 'report'}_${id}.txt`;\n      link.click();\n      window.URL.revokeObjectURL(url);\n      alert('Rapport téléchargé avec succès! (simulation)');\n      /* Version avec API (quand service Reports sera disponible):\n      this.reportService.downloadReport(id).subscribe({\n        next: (blob) => {\n          const url = window.URL.createObjectURL(blob);\n          const link = document.createElement('a');\n          link.href = url;\n          link.download = `report_${id}.pdf`;\n          link.click();\n          window.URL.revokeObjectURL(url);\n        },\n        error: (error) => {\n          alert('Service Reports non disponible');\n        }\n      });\n      */\n    }\n    static ɵfac = function ReportsComponent_Factory(t) {\n      return new (t || ReportsComponent)(i0.ɵɵdirectiveInject(i1.ReportService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ReportsComponent,\n      selectors: [[\"app-reports\"]],\n      decls: 58,\n      vars: 10,\n      consts: [[1, \"page-container\"], [1, \"page-header\"], [1, \"report-generator\"], [1, \"form-grid\"], [1, \"form-group\"], [1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"HR\"], [\"value\", \"BUDGET\"], [\"value\", \"CLAIMS\"], [\"value\", \"PROJECTS\"], [\"value\", \"FINANCIAL\"], [\"value\", \"DAILY\"], [\"value\", \"WEEKLY\"], [\"value\", \"MONTHLY\"], [\"value\", \"QUARTERLY\"], [\"value\", \"YEARLY\"], [\"value\", \"CUSTOM\"], [\"value\", \"PDF\"], [\"value\", \"EXCEL\"], [\"value\", \"CSV\"], [\"class\", \"form-group\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"click\", \"disabled\"], [4, \"ngIf\"], [1, \"reports-list\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"table-container\", 4, \"ngIf\"], [\"type\", \"date\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"loading\"], [1, \"table-container\"], [1, \"data-table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-sm\", 3, \"click\"]],\n      template: function ReportsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n          i0.ɵɵtext(3, \"Rapports & Analyses\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(4, \"div\", 2)(5, \"h2\");\n          i0.ɵɵtext(6, \"G\\u00E9n\\u00E9rer un nouveau rapport\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 3)(8, \"div\", 4)(9, \"label\");\n          i0.ɵɵtext(10, \"Type de rapport\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"select\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ReportsComponent_Template_select_ngModelChange_11_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.reportConfig.type, $event) || (ctx.reportConfig.type = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(12, \"option\", 6);\n          i0.ɵɵtext(13, \"Ressources Humaines\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"option\", 7);\n          i0.ɵɵtext(15, \"Budget\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"option\", 8);\n          i0.ɵɵtext(17, \"R\\u00E9clamations\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"option\", 9);\n          i0.ɵɵtext(19, \"Projets\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"option\", 10);\n          i0.ɵɵtext(21, \"Financier\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(22, \"div\", 4)(23, \"label\");\n          i0.ɵɵtext(24, \"P\\u00E9riode\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"select\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ReportsComponent_Template_select_ngModelChange_25_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.reportConfig.period, $event) || (ctx.reportConfig.period = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(26, \"option\", 11);\n          i0.ɵɵtext(27, \"Quotidien\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"option\", 12);\n          i0.ɵɵtext(29, \"Hebdomadaire\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"option\", 13);\n          i0.ɵɵtext(31, \"Mensuel\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"option\", 14);\n          i0.ɵɵtext(33, \"Trimestriel\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(34, \"option\", 15);\n          i0.ɵɵtext(35, \"Annuel\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"option\", 16);\n          i0.ɵɵtext(37, \"Personnalis\\u00E9\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(38, \"div\", 4)(39, \"label\");\n          i0.ɵɵtext(40, \"Format\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"select\", 5);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ReportsComponent_Template_select_ngModelChange_41_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.reportConfig.format, $event) || (ctx.reportConfig.format = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(42, \"option\", 17);\n          i0.ɵɵtext(43, \"PDF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(44, \"option\", 18);\n          i0.ɵɵtext(45, \"Excel\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(46, \"option\", 19);\n          i0.ɵɵtext(47, \"CSV\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(48, ReportsComponent_div_48_Template, 4, 1, \"div\", 20)(49, ReportsComponent_div_49_Template, 4, 1, \"div\", 20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(50, \"button\", 21);\n          i0.ɵɵlistener(\"click\", function ReportsComponent_Template_button_click_50_listener() {\n            return ctx.generateReport();\n          });\n          i0.ɵɵtemplate(51, ReportsComponent_span_51_Template, 2, 0, \"span\", 22)(52, ReportsComponent_span_52_Template, 2, 0, \"span\", 22);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(53, \"div\", 23)(54, \"h2\");\n          i0.ɵɵtext(55, \"Rapports g\\u00E9n\\u00E9r\\u00E9s\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(56, ReportsComponent_div_56_Template, 2, 0, \"div\", 24)(57, ReportsComponent_div_57_Template, 16, 1, \"div\", 25);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(11);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reportConfig.type);\n          i0.ɵɵadvance(14);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reportConfig.period);\n          i0.ɵɵadvance(16);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.reportConfig.format);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.reportConfig.period === \"CUSTOM\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.reportConfig.period === \"CUSTOM\");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", ctx.generating);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.generating);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.generating);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel, i2.DatePipe],\n      styles: [\".report-generator[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:30px}.report-generator[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;color:#2c3e50}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:15px;margin-bottom:20px}.reports-list[_ngcontent-%COMP%]{background:#fff;padding:25px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.reports-list[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:20px;color:#2c3e50}\"]\n    });\n  }\n  return ReportsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}